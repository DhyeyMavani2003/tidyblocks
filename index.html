<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="static/ui.css">
    <script src="https://cdn.jsdelivr.net/npm/vega@5.9.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@4.0.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.2.1"></script>
    <script src="./jeff.min.js"></script>
    <script src="./script.js"></script>
  </head>
  <body onload="setup()">

    <nav class="two-columns">
      <!-- main navigation left (program and toolbox) -->
      <div class="column width50">
        <button class="menuButton" onclick="UI.onRunProgram()">
          Run
        </button>
        <button class="menuButton" onclick="UI.onTriggerInput('loadProgram')">
          Load Program
        </button>
        <button class="menuButton" onclick="UI.onTriggerInput('loadData')">
          Load Data
        </button>
      </div>

      <!-- main navigation right (display areas) -->
      <div class="column width50">
        <button id="dataButton"
                class="menuButton tabButton buttonDefault"
                data-jeff-group="display"
                onclick="UI.onShowTab(event, 'dataTab', 'data')">
          Data
        </button>
        <button id="resultsButton"
                class="menuButton tabButton"
                data-jeff-group="display"
                onclick="UI.onShowTab(event, 'resultsTab', 'results')">
          Results
        </button>
        <button id="plotButton"
                class="menuButton tabButton"
                data-jeff-group="display"
                onclick="UI.onShowTab(event, 'plotTab')">
          Plot
        </button>
        <button id="statisticsButton"
                class="menuButton tabButton"
                data-jeff-group="display"
                onclick="UI.onShowTab(event, 'statisticsTab')">
          Statistics
        </button>
        <button id="logButton"
                class="menuButton tabButton"
                data-jeff-group="display"
                onclick="UI.onShowTab(event, 'logTab')">
          Log
        </button>
        <button id="errorButton"
                class="menuButton tabButton"
                data-jeff-group="display"
                onclick="UI.onShowTab(event, 'errorTab')">
          Error
        </button>
      </div>
    </nav>

    <!-- invisible controls to be "clicked" by button actions -->
    <input type="file" id="loadProgram" style="display:none" onchange="UI.onLoadProgram(this.files)"/>
    <input type="file" id="loadData" style="display:none" onchange="UI.onLoadData(this.files)"/>

    <main class="two-columns">
      <!-- main workbench area (program and tools) -->
      <div id="workbench" class="left width50 workbench">
      </div>

      <!-- main display area -->
      <div class="right width50 displays">
        <div id="dataTab" class="tabContent" data-jeff-group="display">
          <h2>
            Data
            <select class="tableSelector" id="dataSelect" onchange="UI.onDisplayTable('data')"></select>
          </h2>
          <div id="dataArea" data-jeff-group="display"></div>
        </div>
        <div id="resultsTab" class="tabContent" data-jeff-group="display">
          <h2>
            Results
            <select class="tableSelector" id="resultsSelect" onchange="UI.onDisplayTable('results')"></select>
            <button class="displayButton" onclick="UI.onSaveResults(event)">Save</button>
          </h2>
          <div id="resultsArea" data-jeff-group="display"></div>
        </div>
        <div id="plotTab" class="tabContent" data-jeff-group="display">
          <h2>Plot</h2>
          <div id="plotArea" data-jeff-group="display"></div>
        </div>
        <div id="statisticsTab" class="tabContent" data-jeff-group="display">
          <h2>Statistics</h2>
          <div id="statisticsArea" data-jeff-group="display"></div>
        </div>
        <div id="logTab" class="tabContent" data-jeff-group="display">
          <h2>Log</h2>
          <div id="logArea" data-jeff-group="display"></div>
        </div>
        <div id="errorTab" class="tabContent" data-jeff-group="display">
          <h2>Error</h2>
          <div id="errorArea" data-jeff-group="display"></div>
        </div>
      </div>
    </main>

    <footer>
      <p>TidyBlocks</p>
    </footer>
  </body>
</html>
